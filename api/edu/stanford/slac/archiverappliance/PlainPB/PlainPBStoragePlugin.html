<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Mon Oct 22 16:54:06 PDT 2018 -->
<title>PlainPBStoragePlugin</title>
<meta name="date" content="2018-10-22">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PlainPBStoragePlugin";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PlainPBStoragePlugin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBPathNameUtility.html" title="class in edu.stanford.slac.archiverappliance.PlainPB"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.CompressionMode.html" title="enum in edu.stanford.slac.archiverappliance.PlainPB"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html" target="_top">Frames</a></li>
<li><a href="PlainPBStoragePlugin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.stanford.slac.archiverappliance.PlainPB</div>
<h2 title="Class PlainPBStoragePlugin" class="title">Class PlainPBStoragePlugin</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a>, <a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a>, <a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a>, <a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a>, <a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a>, <a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">PlainPBStoragePlugin</span>
extends java.lang.Object
implements <a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a>, <a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a>, <a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a>, <a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></pre>
<div class="block">The plain PB storage plugin stores data in a chunk per PV per partition in sequential form.
 No index is maintained, simple search algorithms are used to locate events.
 This plugin has these configuration parameters.
 <dl>
 <dt>name</dt><dd>This serves to identify this plugin; mandatory</dd>
 <dt>rootFolder</dt><dd>This serves as the rootFolder that is prepended to the path generated for a PV+chunk ; mandatory. 
 One can use environment variables here; for example, <code>pb://localhost?name=STS&amp;rootFolder=${ARCHAPPL_SHORT_TERM_FOLDER}&amp;partitionGranularity=PARTITION_HOUR</code> where the value for ${ARCHAPPL_SHORT_TERM_FOLDER} is picked up from the environment/system properties.
 </dd>
 <dt>partitionGranularity</dt><dd>Defines the time partition granularity for this plugin. For example, if the granularity <code>PARTITION_HOUR</code>, then a new chunk is created for each hour of data. The partitions are clean; that is, they contain data only for that partition. It is possible to predict which chunk contains data for a particular instant in time and which chunks contain data for a particular time period. This is a mandatory field.</dd>
 <dt>compress</dt><dd>This is an optional field that defines the compression mode. 
 The support for zip compression is experimental. 
 If the zip compression is used, the <code>rootfolder</code> is prepended with <code><a href="../../../../../org/epics/archiverappliance/utils/nio/ArchPaths.html#ZIP_PREFIX"><code>ZIP_PREFIX</code></a></code>.
 If this is absent in the <code>rootfolder</code>, the initialization code automatically adds it in.
 </dd>
 <dt>hold &amp; gather</dt><dd><code>hold</code> and <code>gather</code> are optional fields that work together to implement high/low watermarks for data transfer.
 By default, both <code>hold</code> and <code>gather</code> are 0 which leads to data being transferred out of this plugin as soon as the partition boundary is reached.
 You can <code>hold</code> a certain number of partitions in this store (perhaps because this store is a high performing one). 
 In this case, ETL does not start until the first event in this store is older than <code>hold</code> partitions.
 Once ETL begins, you can transfer <code>gather</code> partitions at a time.
 For example, <code>hold=5&amp;gather=3</code> lets you keep at least <code>5-3=2</code> partitions in this store. ETL kicks in once the oldest event is older than than <code>5</code> partitions and data is moved <code>3</code> partitions at a time. 
 </dd>
 <dt>pp</dt><dd>An optional parameter, this contains a list of <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors"><code>post processing operators</code></a> that are computed and cached during ETL.
 During retrieval, if an exact match is found, then the data from the cached copy is used (greatly improving retrieval performance). 
 Otherwise, the post processor is applied and the data is computed at runtime.
 To specify multiple post processors, use standard URL syntax like so <code>pp=rms&amp;pp=mean_3600</code>
 </dd>
 <dt>consolidateOnShutdown</dt><dd>This lets you control if ETL should push data to the subsequent store on appserver shutdown. This is useful if you are using a RAMDisk for the short term store.</dd>
 <dt>reducedata</dt><dd>An optional parameter; use this parameter to reduce the data as you move it into this store. You can use any of the <a href="http://slacmshankar.github.io/epicsarchiver_docs/userguide.html#post_processing">post processors</a> that can be used with the <code>pp</code> argument.
 For example, if you define the LTS as <code>pb://localhost?name=LTS&amp;rootFolder=${ARCHAPPL_LONG_TERM_FOLDER}&amp;partitionGranularity=PARTITION_YEAR&amp;reducedata=firstSample_3600</code>, then when moving data into this store, ETL will apply the <code>firstSample_3600</code> operator on the raw data to reduce the data and store only the reduced data.
 The difference between this parameter and the <code>pp</code> parameter is that in the <code>reducedata</code> case, only the reduced data is stored. The raw data is thrown away.
 If you specify both the <code>pp</code> and the <code>reducedata</code>, you may get unpredictable results because the raw data is necessary to precompute the caches. 
 </dd>
 <dt>etlIntoStoreIf</dt><dd>An optional parameter; use this parameter to control if ETL should move data into this store. 
 If the named flag specified by this parameter is false, this plugin will behave like the blackhole plugin (and you will lose data).
 Note that named flags are false by default; so the default behavior if you specify this flag and forget to the set the named flag is to lose data.
 If you don't set this flag at all; then this plugin behaves normally and will accept all the ETL data coming in.
 For example, if you add a <code>etlIntoStoreIf=testFlag</code>; then data will be moved into this store only if the value of the named flag <code>testFlag</code> is true.
 </dd>
 <dt>etlOutofStoreIf</dt><dd>An optional parameter; use this parameter to control if ETL should move data out of this store. 
 If the named flag specified by this parameter is false, this plugin will behave like a bag of holding and accumulate all the data it can.
 Note that named flags are false by default; so the default behavior if you specify this flag and forget to the set the named flag is to collect data till you run out of space.
 If you don't set this flag at all; then this plugin behaves normally and will move data out as before.
 For example, if you add a <code>etlOutofStoreIf=testFlag</code>; then data will be moved ouf of this store only if the value of the named flag <code>testFlag</code> is true.
 </dd>
 </dl></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>mshankar</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.CompressionMode.html" title="enum in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a></span></code>
<div class="block">Support for ZIP_PER_PV is still experimental.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#APPEND_EXTENSION">APPEND_EXTENSION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#PB_EXTENSION">PB_EXTENSION</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#PlainPBStoragePlugin--">PlainPBStoragePlugin</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#appendData-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.EventStream-">appendData</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
          java.lang.String&nbsp;pvName,
          <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#appendToETLAppendData-java.lang.String-org.epics.archiverappliance.EventStream-org.epics.archiverappliance.etl.ETLContext-">appendToETLAppendData</a></span>(java.lang.String&nbsp;pvName,
                     <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream,
                     <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">This appends an EventStream to the ETL append data for a PV.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#commitETLAppendData-java.lang.String-org.epics.archiverappliance.etl.ETLContext-">commitETLAppendData</a></span>(java.lang.String&nbsp;pvName,
                   <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">This concatenates the ETL append data for a PV with the PV's destination data.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#consolidateOnShutdown--">consolidateOnShutdown</a></span>()</code>
<div class="block">Should ETL move data from this source to the destination on shutdown.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#convert-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.etl.ConversionFunction-">convert</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
       java.lang.String&nbsp;pvName,
       <a href="../../../../../org/epics/archiverappliance/etl/ConversionFunction.html" title="interface in org.epics.archiverappliance.etl">ConversionFunction</a>&nbsp;conversionFuntion)</code>
<div class="block">Sometimes, PVs change types, EGUs etc.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.CompressionMode.html" title="enum in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getCompressionMode--">getCompressionMode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.util.concurrent.Callable&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getDataForPV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.sql.Timestamp-java.sql.Timestamp-">getDataForPV</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
            java.lang.String&nbsp;pvName,
            java.sql.Timestamp&nbsp;startTime,
            java.sql.Timestamp&nbsp;endTime)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.util.concurrent.Callable&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getDataForPV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.sql.Timestamp-java.sql.Timestamp-org.epics.archiverappliance.retrieval.postprocessors.PostProcessor-">getDataForPV</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
            java.lang.String&nbsp;pvName,
            java.sql.Timestamp&nbsp;startTime,
            java.sql.Timestamp&nbsp;endTime,
            <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors">PostProcessor</a>&nbsp;postProcessor)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getDesc--">getDesc</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getDescription--">getDescription</a></span>()</code>
<div class="block">Get a string description of this plugin; one that can potentially be used in log messages and provide context.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getETLStreams-java.lang.String-java.sql.Timestamp-org.epics.archiverappliance.etl.ETLContext-">getETLStreams</a></span>(java.lang.String&nbsp;pvName,
             java.sql.Timestamp&nbsp;currentTime,
             <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">Given a pv and a time, this method returns all the streams that are ready for ETL.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getFirstKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">getFirstKnownEvent</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                  java.lang.String&nbsp;pvName)</code>
<div class="block">Get the first event for this PV.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getGatherETLinPartitions--">getGatherETLinPartitions</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getHoldETLForPartions--">getHoldETLForPartions</a></span>()</code>
<div class="block">The hold and gather are used to implement a high/low watermark for ETL.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getLastKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">getLastKnownEvent</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                 java.lang.String&nbsp;pvName)</code>
<div class="block">Gets the last known event in this destination.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getName--">getName</a></span>()</code>
<div class="block">Multiple PVs will probably use the same storage area and we identify the area using the name.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum in org.epics.archiverappliance.common">PartitionGranularity</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getPartitionGranularity--">getPartitionGranularity</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getRootFolder--">getRootFolder</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getTotalSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">getTotalSpace</a></span>(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</code>
<div class="block">Gets the total space left on this device.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getURLRepresentation--">getURLRepresentation</a></span>()</code>
<div class="block">Return a URL representation of this plugin suitable for parsing by StoragePluginURLParser</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#getUsableSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">getUsableSpace</a></span>(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</code>
<div class="block">Gets the space available to this VM on this device</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#initialize-java.lang.String-org.epics.archiverappliance.config.ConfigService-">initialize</a></span>(java.lang.String&nbsp;configURL,
          <a href="../../../../../org/epics/archiverappliance/config/ConfigService.html" title="interface in org.epics.archiverappliance.config">ConfigService</a>&nbsp;configService)</code>
<div class="block">Each storage plugin is registered to a URI scheme; for example, the PlainStoragePBPlugin uses pb:// as the scheme.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#isBackupFilesBeforeETL--">isBackupFilesBeforeETL</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#markForDeletion-org.epics.archiverappliance.etl.ETLInfo-org.epics.archiverappliance.etl.ETLContext-">markForDeletion</a></span>(<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&nbsp;info,
               <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">Delete the ETLStream identifier by info when you can as it has already been consumed by the ETL destination.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#prepareForNewPartition-java.lang.String-org.epics.archiverappliance.Event-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">prepareForNewPartition</a></span>(java.lang.String&nbsp;pvName,
                      <a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;ev,
                      <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;archDBRType,
                      <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">This informs the destination that we are switching to a new partition and this dest needs to execute its pre-processing for a new partition.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#renamePV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.lang.String-">renamePV</a></span>(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
        java.lang.String&nbsp;oldName,
        java.lang.String&nbsp;newName)</code>
<div class="block">Change the name of a PV.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#runPostProcessors-java.lang.String-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">runPostProcessors</a></span>(java.lang.String&nbsp;pvName,
                 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;dbrtype,
                 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code>
<div class="block">Run the post processors associated with this plugin if any for this pv.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setBackupFilesBeforeETL-boolean-">setBackupFilesBeforeETL</a></span>(boolean&nbsp;backupFilesBeforeETL)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setDesc-java.lang.String-">setDesc</a></span>(java.lang.String&nbsp;newDesc)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setGatherETLinPartitions-int-">setGatherETLinPartitions</a></span>(int&nbsp;gatherETLinPartitions)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setHoldETLForPartions-int-">setHoldETLForPartions</a></span>(int&nbsp;holdETLForPartions)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setName-java.lang.String-">setName</a></span>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setPartitionGranularity-org.epics.archiverappliance.common.PartitionGranularity-">setPartitionGranularity</a></span>(<a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;partitionGranularity)</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#setRootFolder-java.lang.String-">setRootFolder</a></span>(java.lang.String&nbsp;rootFolder)</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html#spaceConsumedByPV-java.lang.String-">spaceConsumedByPV</a></span>(java.lang.String&nbsp;pvName)</code>
<div class="block">Gets an estimate of the space consumed by this PV on this device.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PB_EXTENSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PB_EXTENSION</h4>
<pre>public static final&nbsp;java.lang.String PB_EXTENSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin.PB_EXTENSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="APPEND_EXTENSION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>APPEND_EXTENSION</h4>
<pre>public static final&nbsp;java.lang.String APPEND_EXTENSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin.APPEND_EXTENSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PlainPBStoragePlugin--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PlainPBStoragePlugin</h4>
<pre>public&nbsp;PlainPBStoragePlugin()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDataForPV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.sql.Timestamp-java.sql.Timestamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataForPV</h4>
<pre>public&nbsp;java.util.List&lt;java.util.concurrent.Callable&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;&nbsp;getDataForPV(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                                                                               java.lang.String&nbsp;pvName,
                                                                               java.sql.Timestamp&nbsp;startTime,
                                                                               java.sql.Timestamp&nbsp;endTime)
                                                                        throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getDataForPV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.sql.Timestamp-java.sql.Timestamp-org.epics.archiverappliance.retrieval.postprocessors.PostProcessor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataForPV</h4>
<pre>public&nbsp;java.util.List&lt;java.util.concurrent.Callable&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;&nbsp;getDataForPV(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                                                                               java.lang.String&nbsp;pvName,
                                                                               java.sql.Timestamp&nbsp;startTime,
                                                                               java.sql.Timestamp&nbsp;endTime,
                                                                               <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors">PostProcessor</a>&nbsp;postProcessor)
                                                                        throws java.io.IOException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Reader.html#getDataForPV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.sql.Timestamp-java.sql.Timestamp-org.epics.archiverappliance.retrieval.postprocessors.PostProcessor-">getDataForPV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="appendData-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.EventStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendData</h4>
<pre>public&nbsp;boolean&nbsp;appendData(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                          java.lang.String&nbsp;pvName,
                          <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream)
                   throws java.io.IOException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Writer.html#appendData-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.EventStream-">appendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="appendToETLAppendData-java.lang.String-org.epics.archiverappliance.EventStream-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendToETLAppendData</h4>
<pre>public&nbsp;boolean&nbsp;appendToETLAppendData(java.lang.String&nbsp;pvName,
                                     <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream,
                                     <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)
                              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#appendToETLAppendData-java.lang.String-org.epics.archiverappliance.EventStream-org.epics.archiverappliance.etl.ETLContext-">ETLDest</a></code></span></div>
<div class="block">This appends an EventStream to the ETL append data for a PV.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#appendToETLAppendData-java.lang.String-org.epics.archiverappliance.EventStream-org.epics.archiverappliance.etl.ETLContext-">appendToETLAppendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>stream</code> - The EventStream to append to the append data for a PV.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True or False</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="getDescription--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescription</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDescription()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getDescription--">StoragePlugin</a></code></span></div>
<div class="block">Get a string description of this plugin; one that can potentially be used in log messages and provide context.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#getDescription--">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getDescription--">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getDescription--">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>description</dd>
</dl>
</li>
</ul>
<a name="initialize-java.lang.String-org.epics.archiverappliance.config.ConfigService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(java.lang.String&nbsp;configURL,
                       <a href="../../../../../org/epics/archiverappliance/config/ConfigService.html" title="interface in org.epics.archiverappliance.config">ConfigService</a>&nbsp;configService)
                throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#initialize-java.lang.String-org.epics.archiverappliance.config.ConfigService-">StoragePlugin</a></code></span></div>
<div class="block">Each storage plugin is registered to a URI scheme; for example, the PlainStoragePBPlugin uses pb:// as the scheme.
 Configuration for a storage plugin typically comes in as a URL like URI.
 <ol> 
 <li>The config service identifies the storage plugin using the scheme (&quot;pb&quot; maps to PlainStoragePBPlugin)</li>
 <li>Creates an instance using the default constructor.</li>
 <li>Calls initialize with the complete URL.</li>
 </ol>
 The storage plugin is expected to use the parameters in the URL to initialize itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#initialize-java.lang.String-org.epics.archiverappliance.config.ConfigService-">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>configURL</code> - The complete URL</dd>
<dd><code>configService</code> - &emsp;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/epics/archiverappliance/config/StoragePluginURLParser.html" title="class in org.epics.archiverappliance.config"><code>StoragePluginURLParser</code></a></dd>
</dl>
</li>
</ul>
<a name="getURLRepresentation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getURLRepresentation</h4>
<pre>public&nbsp;java.lang.String&nbsp;getURLRepresentation()</pre>
<div class="block">Return a URL representation of this plugin suitable for parsing by StoragePluginURLParser</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ret A URL representation</dd>
</dl>
</li>
</ul>
<a name="setRootFolder-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRootFolder</h4>
<pre>public&nbsp;void&nbsp;setRootFolder(java.lang.String&nbsp;rootFolder)
                   throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="setDesc-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDesc</h4>
<pre>public&nbsp;void&nbsp;setDesc(java.lang.String&nbsp;newDesc)</pre>
</li>
</ul>
<a name="getRootFolder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootFolder</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRootFolder()</pre>
</li>
</ul>
<a name="getDesc--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDesc</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDesc()</pre>
</li>
</ul>
<a name="getPartitionGranularity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartitionGranularity</h4>
<pre>public&nbsp;<a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;getPartitionGranularity()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#getPartitionGranularity--">getPartitionGranularity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getPartitionGranularity--">getPartitionGranularity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
</dl>
</li>
</ul>
<a name="setPartitionGranularity-org.epics.archiverappliance.common.PartitionGranularity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPartitionGranularity</h4>
<pre>public&nbsp;void&nbsp;setPartitionGranularity(<a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;partitionGranularity)</pre>
</li>
</ul>
<a name="getETLStreams-java.lang.String-java.sql.Timestamp-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getETLStreams</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&gt;&nbsp;getETLStreams(java.lang.String&nbsp;pvName,
                                             java.sql.Timestamp&nbsp;currentTime,
                                             <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)
                                      throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getETLStreams-java.lang.String-java.sql.Timestamp-org.epics.archiverappliance.etl.ETLContext-">ETLSource</a></code></span></div>
<div class="block">Given a pv and a time, this method returns all the streams that are ready for ETL.
 For example, if the partition granularity of a source is an hour, then this method returns all the streams that are in this source for the previous hours.
 Ideally, these streams must be closed for writing and should not change.
 The ETL process will consolidates these streams into the ETL destination, which is expected to be at a longer time granularity.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getETLStreams-java.lang.String-java.sql.Timestamp-org.epics.archiverappliance.etl.ETLContext-">getETLStreams</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>currentTime</code> - The time that is being used as the cutoff. If we pass in a timestamp way out into the future, we should return all the streams available.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List ETLinfo</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="markForDeletion-org.epics.archiverappliance.etl.ETLInfo-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markForDeletion</h4>
<pre>public&nbsp;void&nbsp;markForDeletion(<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&nbsp;info,
                            <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#markForDeletion-org.epics.archiverappliance.etl.ETLInfo-org.epics.archiverappliance.etl.ETLContext-">ETLSource</a></code></span></div>
<div class="block">Delete the ETLStream identifier by info when you can as it has already been consumed by the ETL destination.
 You can delete it later or immediately.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#markForDeletion-org.epics.archiverappliance.etl.ETLInfo-org.epics.archiverappliance.etl.ETLContext-">markForDeletion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - ETLInfo</dd>
<dd><code>context</code> - ETLContext</dd>
</dl>
</li>
</ul>
<a name="getLastKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastKnownEvent</h4>
<pre>public&nbsp;<a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;getLastKnownEvent(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                               java.lang.String&nbsp;pvName)
                        throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html#getLastKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">Writer</a></code></span></div>
<div class="block">Gets the last known event in this destination. 
 Future events will be appended to this destination only if their timestamp is more recent than the timestamp of this event.
 If there is no last known event, then a null is returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Writer.html#getLastKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">getLastKnownEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Event The last known event of pvName</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="getFirstKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstKnownEvent</h4>
<pre>public&nbsp;<a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;getFirstKnownEvent(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                                java.lang.String&nbsp;pvName)
                         throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html#getFirstKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">Reader</a></code></span></div>
<div class="block">Get the first event for this PV.
 This call is used to optimize away calls to other readers that have older data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Reader.html#getFirstKnownEvent-org.epics.archiverappliance.common.BasicContext-java.lang.String-">getFirstKnownEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Event The first event of pvName</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="prepareForNewPartition-java.lang.String-org.epics.archiverappliance.Event-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareForNewPartition</h4>
<pre>public&nbsp;boolean&nbsp;prepareForNewPartition(java.lang.String&nbsp;pvName,
                                      <a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;ev,
                                      <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;archDBRType,
                                      <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)
                               throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#prepareForNewPartition-java.lang.String-org.epics.archiverappliance.Event-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">ETLDest</a></code></span></div>
<div class="block">This informs the destination that we are switching to a new partition and this dest needs to execute its pre-processing for a new partition.
 For example, in a PlainPBStorage plugin, this will close the previous fileoutputstreams if any, open a new stream to the file backing the new partition writing a header if needed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#prepareForNewPartition-java.lang.String-org.epics.archiverappliance.Event-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">prepareForNewPartition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>ev</code> - This is used to determine the partition for the new partition</dd>
<dd><code>archDBRType</code> - ArchDBRTypes</dd>
<dd><code>context</code> - ETLContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True or False</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="commitETLAppendData-java.lang.String-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitETLAppendData</h4>
<pre>public&nbsp;boolean&nbsp;commitETLAppendData(java.lang.String&nbsp;pvName,
                                   <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)
                            throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#commitETLAppendData-java.lang.String-org.epics.archiverappliance.etl.ETLContext-">ETLDest</a></code></span></div>
<div class="block">This concatenates the ETL append data for a PV with the PV's destination data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#commitETLAppendData-java.lang.String-org.epics.archiverappliance.etl.ETLContext-">commitETLAppendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True or False</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="runPostProcessors-java.lang.String-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runPostProcessors</h4>
<pre>public&nbsp;boolean&nbsp;runPostProcessors(java.lang.String&nbsp;pvName,
                                 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;dbrtype,
                                 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)
                          throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#runPostProcessors-java.lang.String-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">ETLDest</a></code></span></div>
<div class="block">Run the post processors associated with this plugin if any for this pv.
 The post processing is done after the commit and outside of the ETL transaction.
 This process is expected to catch up on previously missed/incomplete computation of cached post processing files.
 I can think of at least two usecases for this - one where we decide to go back and add a post processor for a pv and one where we change the algorithm for the post processor and want to recompute all the cached files again.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#runPostProcessors-java.lang.String-org.epics.archiverappliance.config.ArchDBRTypes-org.epics.archiverappliance.etl.ETLContext-">runPostProcessors</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>dbrtype</code> - ArchDBRTypes</dd>
<dd><code>context</code> - ETLContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True or False</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="isBackupFilesBeforeETL--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBackupFilesBeforeETL</h4>
<pre>public&nbsp;boolean&nbsp;isBackupFilesBeforeETL()</pre>
</li>
</ul>
<a name="setBackupFilesBeforeETL-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBackupFilesBeforeETL</h4>
<pre>public&nbsp;void&nbsp;setBackupFilesBeforeETL(boolean&nbsp;backupFilesBeforeETL)</pre>
</li>
</ul>
<a name="getHoldETLForPartions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHoldETLForPartions</h4>
<pre>public&nbsp;int&nbsp;getHoldETLForPartions()</pre>
<div class="block">The hold and gather are used to implement a high/low watermark for ETL.
 ETL is skipped until the first known event in the partitions available for ETL is earlier than <i>hold</i> partitions.
 Once this is true, we then include in the ETL list all partitions whose first event is earlier than <i>hold - gather</i> partitions.
 For example, in a PARTITION_DAY, if you want to run ETL once every 7 days, but when you run you want to move 5 days worth of data to the dest, set hold to 7 and gather to 5.
 Hold and gather default to a scenario where we aggressively push data to the destination as soon as it is available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>holdETLForPartions &emsp;</dd>
</dl>
</li>
</ul>
<a name="setHoldETLForPartions-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHoldETLForPartions</h4>
<pre>public&nbsp;void&nbsp;setHoldETLForPartions(int&nbsp;holdETLForPartions)
                           throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getGatherETLinPartitions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGatherETLinPartitions</h4>
<pre>public&nbsp;int&nbsp;getGatherETLinPartitions()</pre>
</li>
</ul>
<a name="setGatherETLinPartitions-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGatherETLinPartitions</h4>
<pre>public&nbsp;void&nbsp;setGatherETLinPartitions(int&nbsp;gatherETLinPartitions)
                              throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getName--">StoragePlugin</a></code></span></div>
<div class="block">Multiple PVs will probably use the same storage area and we identify the area using the name.
 This is principally used in capacity planning/load balancing to identify the storage area for the PV.
 We should make sure that storage's with similar lifetimes have the same name in all the appliances.
 The name is also used to identify the storage in the storage report.
 For example, the PlainPBStoragePlugin takes a name parameter and we should use something like STS as the identity for the short term store in all the appliances.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getName--">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getName--">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name</dd>
</dl>
</li>
</ul>
<a name="getTotalSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalSpace</h4>
<pre>public&nbsp;long&nbsp;getTotalSpace(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)
                   throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getTotalSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">StorageMetrics</a></code></span></div>
<div class="block">Gets the total space left on this device.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getTotalSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">getTotalSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageMetricsContext</code> - StorageMetricsContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>getTotalSpac &emsp;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="getUsableSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsableSpace</h4>
<pre>public&nbsp;long&nbsp;getUsableSpace(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)
                    throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getUsableSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">StorageMetrics</a></code></span></div>
<div class="block">Gets the space available to this VM on this device</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getUsableSpace-org.epics.archiverappliance.etl.StorageMetricsContext-">getUsableSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageMetricsContext</code> - StorageMetricsContext</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>getUsableSpace &emsp;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="spaceConsumedByPV-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spaceConsumedByPV</h4>
<pre>public&nbsp;long&nbsp;spaceConsumedByPV(java.lang.String&nbsp;pvName)
                       throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#spaceConsumedByPV-java.lang.String-">StorageMetrics</a></code></span></div>
<div class="block">Gets an estimate of the space consumed by this PV on this device.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#spaceConsumedByPV-java.lang.String-">spaceConsumedByPV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>spaceConsumedByPV &emsp;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="setName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;void&nbsp;setName(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="getCompressionMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompressionMode</h4>
<pre>public&nbsp;<a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.CompressionMode.html" title="enum in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a>&nbsp;getCompressionMode()</pre>
</li>
</ul>
<a name="consolidateOnShutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consolidateOnShutdown</h4>
<pre>public&nbsp;boolean&nbsp;consolidateOnShutdown()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#consolidateOnShutdown--">ETLSource</a></code></span></div>
<div class="block">Should ETL move data from this source to the destination on shutdown. 
 For example, if you are using a ramdisk for the STS and you have a UPS, you can minimize any data loss but turning this bit on for data stores that are on the ramdisk.
 On shutdown, ETL will try to move the data out of this store into the next lifetime store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#consolidateOnShutdown--">consolidateOnShutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True or False</dd>
</dl>
</li>
</ul>
<a name="renamePV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renamePV</h4>
<pre>public&nbsp;void&nbsp;renamePV(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                     java.lang.String&nbsp;oldName,
                     java.lang.String&nbsp;newName)
              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#renamePV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.lang.String-">StoragePlugin</a></code></span></div>
<div class="block">Change the name of a PV. This happens occasionally in the EPICS world when people change the names of PVs but want to retain the data.
 This method is used to change the name of the PV in any of the datasets for PV <code>oldName</code>.
 For example, in PB files, the name of the PV is encoded in the file names and is also stored in the header. In this case, we expect the plugin to move the data to new files names and change the PV name in the file header.
 To avoid getting into issues about data changing when renaming files, the PV can be assumed to be in a paused state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#renamePV-org.epics.archiverappliance.common.BasicContext-java.lang.String-java.lang.String-">renamePV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>oldName</code> - The old PV name</dd>
<dd><code>newName</code> - The new PV name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
<a name="convert-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.etl.ConversionFunction-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>convert</h4>
<pre>public&nbsp;void&nbsp;convert(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
                    java.lang.String&nbsp;pvName,
                    <a href="../../../../../org/epics/archiverappliance/etl/ConversionFunction.html" title="interface in org.epics.archiverappliance.etl">ConversionFunction</a>&nbsp;conversionFuntion)
             throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#convert-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.etl.ConversionFunction-">StoragePlugin</a></code></span></div>
<div class="block">Sometimes, PVs change types, EGUs etc. 
 In these cases, we are left with the problem of what to do with the already archived data.
 We can rename the PV to a new but related name - this keeps the existing data as is.
 Or, we can attempt to convert to the new type, EGU etc.
 This method can be used to convert the existing data using the supplied conversion function.
 Conversions should be all or nothing; that is, first convert all the streams into temporary chunks and then do a bulk rename once all the conversions have succeeded.
 Note that we'll also be using the same conversion mechanism for imports and other functions that change data.
 So, when/if implementing the conversion function, make sure we respect the typical expectations within the archiver - monotonically increasing timestamps and so on.
 To avoid getting into issues about data changing when converting, the PV can be assumed to be in a paused state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#convert-org.epics.archiverappliance.common.BasicContext-java.lang.String-org.epics.archiverappliance.etl.ConversionFunction-">convert</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dd><code>conversionFuntion</code> - &emsp;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - &emsp;</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PlainPBStoragePlugin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBPathNameUtility.html" title="class in edu.stanford.slac.archiverappliance.PlainPB"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.CompressionMode.html" title="enum in edu.stanford.slac.archiverappliance.PlainPB"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/stanford/slac/archiverappliance/PlainPB/PlainPBStoragePlugin.html" target="_top">Frames</a></li>
<li><a href="PlainPBStoragePlugin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
